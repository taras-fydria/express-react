import{j as e,N as v,u as L,a as N,c as h,r as l,b as d,F as c,R as b,d as y,e as k,f as x,P as w,B as C}from"./vendor.2d40ad70.js";const P=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerpolicy&&(t.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?t.credentials="include":s.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(s){if(s.ep)return;s.ep=!0;const t=o(s);fetch(s.href,t)}};P();const E=n=>{const{navMenu:a}=n;return e("nav",{children:a&&a.length>0&&e("ul",{children:a.map((o,r)=>e("li",{children:e(v,{to:o.to,children:o.title})},r))})})},$=[{to:"/",title:"Home",children:!1},{to:"/stations",title:"Stations",children:!1},{to:"/tanks",title:"Tanks",children:!1}],A=()=>e("header",{children:e("div",{className:"container",children:e(E,{navMenu:$})})}),F=()=>e("div",{children:e("div",{children:"Home Page 12356789"})}),j="/api",D=N,H=L,R={loading:!1,failed:!1,loaded:!1},f=h({name:"loading",initialState:R,reducers:{loading:n=>{n.loading=!0},loaded:n=>{n.loaded=!0,n.loading=!1},failed:n=>{n.failed=!0,n.loading=!1}}}),{loading:m,loaded:_,failed:B}=f.actions,M=n=>n.appLoading;var O=f.reducer;function U(n){const[a,o]=l.exports.useState(null),r=D(),[s]=l.exports.useState(`${j}${n}`);return l.exports.useEffect(()=>((async()=>{r(m());try{const t=await fetch(s),i=t.ok&&t.status===200?await t.json():new Error(t.statusText);o(i),r(_())}catch{r(B())}})(),()=>{o(null),r(m())}),[]),a}const g=({tel:n,tanks:a,address:o,name:r})=>d("div",{className:"station",children:[r&&e("h3",{className:"station__name",children:r}),n&&e("a",{href:`tel:${n}`,children:n}),o&&e("p",{children:o}),a&&e("ul",{children:a.map(({station:s,id:t,fuelType:i})=>d("li",{children:[s,i]},t))})]}),I=()=>e(c,{children:"Station Form"}),q=({station:n,editable:a})=>{const{tel:o,address:r,tanks:s,name:t,id:i}=n,[u,S]=l.exports.useState(!1);return e("div",{className:"station-item",children:a?d(c,{children:[u?e(I,{}):e(g,{id:i,name:t,address:r,tel:o,tanks:s}),e("button",{onClick:()=>{S(!u)},children:(()=>u?"Close Edit":"Edit Station")()})]}):e(g,{id:i,name:t,address:r,tel:o,tanks:s})})},T=()=>{const n=U("/stations");return e(c,{children:n&&n.length&&e("ul",{className:"station-list",children:n.map(a=>e("li",{className:"station-list__item",children:e(q,{editable:!0,station:a})},a.id))})})},G=()=>e("div",{className:"station-page",children:e(T,{})}),p=[{path:"/",element:e(F,{})},{path:"/stations",element:e(G,{})}];function K(n){const a=H(M),o=()=>{let t=n;switch(!0){case a.loading:t+=` ${t}--loading`;break;case a.loaded:t+=` ${t}--loaded`;break;case a.failed:t+=` ${t}--failed`;break}return t},[r,s]=l.exports.useState(o);return l.exports.useEffect(()=>(s(o),()=>{s(o)}),[a]),r}const z=()=>{const n=K("app-main");return d(c,{children:[e(A,{}),e("main",{className:n,children:e(b,{children:p&&p.length>0&&e(c,{children:p.map((a,o)=>e(y,{path:a.path,element:a.element},o))})})})]})},J={stationsList:null},Q=h({name:"Stations list",initialState:J,reducers:{}});var V=Q.reducer;const W=k({reducer:{appLoading:O,stationPage:V}});x.exports.render(e(w,{store:W,children:e(C,{children:e(z,{})})}),document.getElementById("root"));
